// Run-time:
//    stdout: 4
//    stderr:

fun f (char1){
  let str = 1;

  fun appendFunc(char2){
    if (char2 != 0){
      let result = str + char2;
      str = 1;
      return result;
    } else {
      str = str * 10;
      return appendFunc;
    }
  }
  return appendFunc;
}

let f = f(0);
println(f(1))